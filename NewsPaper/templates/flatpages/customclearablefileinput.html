{% if widget.is_initial %}{{ widget.initial_text }}: <a href="{{ widget.value.url }}">{{ widget.value }}</a>{% if not widget.required %}
<input type="checkbox" name="{{ widget.checkbox_name }}" id="{{ widget.checkbox_id }}"{% if widget.attrs.disabled %} disabled{% endif %}{% if widget.attrs.checked %} checked{% endif %}>
<label for="{{ widget.checkbox_id }}" >{{ widget.clear_checkbox_label }}</label>{% endif %}<br>
{{ widget.input_text }}:{% endif %}

  <label for="images" class="drop-container" id="dropcontainer">
    <span class="drop-title">–ü–µ—Ä–µ–Ω–µ—Å–∏ —Ñ–æ—Ç–æ —Å—é–¥–∞</span>
    –∏–ª–∏
    <input type="{{ widget.type }}" name="{{ widget.name }}" id="images" accept="image/*" required {% include "django/forms/widgets/attrs.html" %}>
    <div id="gallery"></div>
  </label>

// –ó–æ–Ω–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
<script>
  const dropContainer = document.getElementById("dropcontainer")
  const fileInput = document.getElementById("images")
  const gallery = document.getElementById('gallery');

  dropContainer.addEventListener("dragover", (e) => {
    // prevent default to allow drop
    e.preventDefault()
  }, false)

  dropContainer.addEventListener("dragenter", () => {
    dropContainer.classList.add("drag-active")
  })

  dropContainer.addEventListener("dragleave", () => {
    dropContainer.classList.remove("drag-active")
  })

  dropContainer.addEventListener("drop", (e) => {
    e.preventDefault()
    dropContainer.classList.remove("drag-active")
    fileInput.files = e.dataTransfer.files
  })

  function updateImageDisplay() {
    const gallery = document.getElementById('gallery');
    gallery.innerHTML = ''; // –æ—á–∏—â–∞–µ–º –≥–∞–ª–µ—Ä–µ—é –æ—Ç –ø—Ä–µ–∂–Ω–∏—Ö –º–∏–Ω–∏–∞—Ç—é—Ä

    for(const file of fileInput.files) {
      const imageObjectUrl = URL.createObjectURL(file);
      const imgElement = document.createElement('img');
      imgElement.style.maxWidth = '150px';
      imgElement.src = imageObjectUrl; // –∫–∞–∂–¥–æ–º—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é —Å–≤–æ–π—Å—Ç–≤–µ–Ω–Ω–æ –∏–º–µ—Ç—å —Å–≤–æ–π URL

      gallery.appendChild(imgElement); // –≥–∞–ª–µ—Ä–µ—è –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π üñºÔ∏è
    }
  }

  fileInput.addEventListener('change', updateImageDisplay);

</script>